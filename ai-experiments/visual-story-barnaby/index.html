<!DOCTYPE html>
<html lang="en" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ุจุฒ ฺฉูฺููู ุณูุฏ | Barnaby</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div class="book">
        <div class="page-container">
            <!-- Cover/Title Slide -->
            <div class="slide cover active">
                <div class="page-content">
                    <h1 class="book-title">ุจุฒ ฺฉูฺููู ุณูุฏ</h1>
                    <div class="cover-image">
                        <img src="image000.jpeg" alt="ุจุฒ ฺฉูฺููู ุจุงุฑูุงุจ">
                    </div>
                    <div class="author">ุฏุงุณุชุงู ุจุฑุง ฺฉูุฏฺฉุงู</div>
                </div>
            </div>

            <!-- Story Slides -->
            <div class="slide">
                <div class="page-content">
                    <img src="image000.jpeg" alt="ุจุฒ ฺฉูฺููู ุจุงุฑูุงุจ">
                    <p>ุจุงุฑูุงุจุ ุจุฒ ฺฉูฺููู ุณูุฏุ ุฑูุญ ฺฉูุฌฺฉุงู ุฏุงุดุช. ูพุดูุด ุจู ุณูุฏ ุฎุงูู ุชุงุฒู ุจูุฏ ู ุฏู ฺฉูฺฺฉุด ุจุง ูุฑ ุฏุฏู ูุฑ ููุธุฑู ุฌุฏุฏุ ุชฺฉุงู ูโุฎูุฑุฏ.</p>
                </div>
            </div>

            <div class="slide">
                <div class="page-content">
                    <img src="image001.jpeg" alt="ุจุงุฑูุงุจ ู ฺฉูุดุฏูุฒฺฉ ุฑู ฺฏู ุขูุชุงุจฺฏุฑุฏุงู">
                    <p>ฺฉ ุตุจุญ ุขูุชุงุจุ ุฏุฑ ุญุงู ฺฉู ูุงุฏุฑุด ูุดุบูู ุฎูุฑุฏู ุนูู ุจูุฏุ ุจุงุฑูุงุจ ฺุฒ ุฌุฏุฏ ุฏุฏ โ ฺฉ ฺฉูุดุฏูุฒฺฉ ูุฑูุฒ ุฑูุดู ฺฉู ุฑู ฺฉ ฺฏู ุขูุชุงุจฺฏุฑุฏุงู ุบููโูพฺฉุฑ ูโุฎุฒุฏ.</p>
                </div>
            </div>

            <div class="slide">
                <div class="page-content">
                    <img src="image002.jpeg" alt="ุจุงุฑูุงุจ ุฏุฑ ุจุงุบฺู ฺฏูุฌู ูุฑูฺฏ">
                    <p>ฺฉูุดุฏูุฒฺฉ ุงุฒ ุฑู ฺฏู ุขูุชุงุจฺฏุฑุฏุงู ูพุฑ ุฒุฏ ู ุฑู ฺฉ ฺฏูุฌู ูุฑูฺฏ ุขุจุฏุงุฑ ู ูุฑูุฒ ุฏุฑ ุจุงุบฺู ูุฑูุฏ ุขูุฏ. ุจุงุฑูุงุจ ุจุง ุงุญุชุงุท ุงุฒ ูุงู ุฑุฏูโูุง ฺฏุงูุงู ุจุฑฺฏุฏุงุฑ ููฺฉ ูพุง ุฑุงู ุฑูุช.</p>
                </div>
            </div>

            <div class="slide">
                <div class="page-content">
                    <img src="image003.jpeg" alt="ุจุงุฑูุงุจ ฺฉูุงุฑ ููุฑ">
                    <p>ุงุฒ ุจุงุบฺู ฺฏูุฌู ูุฑูฺฏุ ฺฉูุดุฏูุฒฺฉ ุจู ุณูุช ฺฉ ููุฑ ุฌูุดุงู ฺฉู ุงุฒ ูุงู ูุฒุฑุนู ูโฺฏุฐุดุชุ ูพุฑูุงุฒ ฺฉุฑุฏ. ุจุงุฑูุงุจ ุชุง ุจู ุญุงู ุงููุฏุฑ ุจู ุขุจ ูุฒุฏฺฉ ูุดุฏู ุจูุฏ.</p>
                </div>
            </div>

            <div class="slide">
                <div class="page-content">
                    <img src="image004.jpeg" alt="ุจุงุฑูุงุจ ู ุฌูุฌู">
                    <p>ูุงฺฏูุงูุ ฺฉ ุจุงุฑูู ุฒุฑุฏ ุฑูุดู ฺุดู ุจุงุฑูุงุจ ุฑุง ฺฏุฑูุช. ฺฉ ุฌูุฌู ฺฉุฑฺฉ ูุฒุฏฺฉ ููุฑ ููฺฉ ูโุฒุฏ! ฺฉูุดุฏูุฒฺฉ ุฑู ูพุดุช ุฌูุฌู ฺฉูฺููู ูพุฑุฏู ุจูุฏ.</p>
                </div>
            </div>

            <div class="slide">
                <div class="page-content">
                    <img src="image005.jpeg" alt="ุจุงุฑูุงุจ ุฏุฑ ูุฒุฑุนู ฺฏูุฏู">
                    <p>ุณูพุณ ฺฉูุดุฏูุฒฺฉ ุฏูุจุงุฑู ูพุฑูุงุฒ ฺฉุฑุฏ ู ุจุฑ ูุฑุงุฒ ูุฒุฑุนูโุง ุงุฒ ฺฏูุฏูโูุง ุจููุฏ ู ุทูุง ุจู ูพุฑูุงุฒ ุฏุฑุขูุฏ. ุจุงุฑูุงุจ ุจู ุฏูุจุงู ุงู ุฏูุฏุ ูพุงูุง ฺฉูฺฺฉุด ุจุง ุชูุงู ุณุฑุนุช ุญุฑฺฉุช ูโฺฉุฑุฏูุฏ.</p>
                </div>
            </div>

            <div class="slide">
                <div class="page-content">
                    <img src="image006.jpeg" alt="ุจุงุฑูุงุจ ูุฒุฏฺฉ ุงูุจุงุฑ ูุฑูุฒ">
                    <p>ุณุฑุงูุฌุงูุ ฺฉูุดุฏูุฒฺฉ ุฌูู ุฏุฑุจ ฺฉ ุงูุจุงุฑ ุจุฒุฑฺฏ ุจุง ุฏูุงุฑูุง ูุฑูุฒ ุฑูฺฏ ูุฑูุฏ ุขูุฏุ ุงู ุจุฒุฑฺฏุชุฑู ุณุงุฎุชูุงู ุจูุฏ ฺฉู ุจุงุฑูุงุจ ุชุง ุจู ุญุงู ุงุฒ ูุฒุฏฺฉ ุฏุฏู ุจูุฏ.</p>
                </div>
            </div>

            <div class="slide">
                <div class="page-content">
                    <img src="image007.jpeg" alt="ูุงุฏุฑ ุจุงุฑูุงุจ">
                    <p>ูุงฺฏูุงูุ ุจุงุฑูุงุจ ฺฉ ุตุฏุง ุขุดูุง ุดูุฏ: "ุจู ุจู!" ุงู ูุงุฏุฑุด ุจูุฏ ฺฉู ุฏุงุดุช ุฏูุจุงูุด ูโฺฏุดุช.</p>
                </div>
            </div>

            <div class="slide">
                <div class="page-content">
                    <img src="image008.jpeg" alt="ุจุงุฑูุงุจ ู ูุงุฏุฑุด ุฏุฑ ูุฒุฑุนู">
                    <p>ุจุงุฑูุงุจ ุจู ุณูุช ูุงุฏุฑุด ุฏูุฏุ ฺฉู ุฎุณุชู ุงูุง ุจุณุงุฑ ุฎูุดุญุงู ุจูุฏ. ุงู ุชูุงู ูุงุฌุฑุงุฌูโ ูุง ฺฉู ุฏุฑ ุขู ุฑูุฒ ุจุง ฺฉูุดุฏูุฒฺฉ ุฏุงุดุช ุฑุง ุจุฑุง ูุงุฏุฑุด ุชุนุฑู ฺฉุฑุฏ.</p>
                </div>
            </div>

            <!-- The End Slide -->
            <div class="slide">
                <div class="page-content end-page">
                    <h2>ูพุงุงู</h2>
                    <p class="end-message">ุงูุฏูุงุฑู ุงุฒ ุฏุงุณุชุงู ุจุงุฑูุงุจ ู ฺฉูุดุฏูุฒฺฉ ูุฐุช ุจุฑุฏู ุจุงุดุฏ!</p>
                    <div class="sheep-icon">๐</div>
                </div>
            </div>
        </div>

        <!-- Navigation Controls -->
        <div class="progress-container">
            <div class="progress-bar" id="progress-bar"></div>
        </div>
        <div class="magic-wand" id="magic-wand"></div>
        <div class="controls">
            <button id="prev-btn" class="nav-btn">&lt;</button>
            <div id="auto-btn" class="nav-btn auto-btn">ูพุฎุด</div>
            <button id="next-btn" class="nav-btn">&gt;</button>
        </div>
    </div>

    <script>
        let currentSlide = 0;
        const slides = document.querySelectorAll(".slide");
        const totalSlides = slides.length;
        const nextBtn = document.getElementById("next-btn");
        const prevBtn = document.getElementById("prev-btn");
        const autoBtn = document.getElementById("auto-btn");
        const progressBar = document.getElementById("progress-bar");
        const magicWand = document.getElementById("magic-wand");
        
        let autoPlayInterval;
        let isAutoPlaying = false;
        const autoPlayDuration = 20000; // 5 seconds per slide
        let progress = 0;
        let progressInterval;

        // Initialize
        updateSlideVisibility();

        // Event listeners
        nextBtn.addEventListener("click", () => {
            if (isAutoPlaying) toggleAutoPlay();
            nextSlide();
        });
        
        prevBtn.addEventListener("click", () => {
            if (isAutoPlaying) toggleAutoPlay();
            prevSlide();
        });
        
        autoBtn.addEventListener("click", () => {
            toggleAutoPlay();

            if(isAutoPlaying)
            nextSlide();
        })

        // Track mouse position for magic wand
        document.addEventListener("mousemove", (e) => {
            if (magicWand.classList.contains("active")) {
                magicWand.style.left = `${e.clientX}px`;
                magicWand.style.top = `${e.clientY}px`;
            }
        });

        // Key navigation
        document.addEventListener("keydown", (e) => {
            if (e.key === "ArrowRight") {
                showMagicWand();
                prevSlide();
                if (isAutoPlaying) toggleAutoPlay();
            }
            if (e.key === "ArrowLeft") {
                showMagicWand();
                nextSlide();
                if (isAutoPlaying) toggleAutoPlay();
            }
            if (e.key === " ") { // Spacebar
                toggleAutoPlay();
            }
        });

        function toggleAutoPlay() {
            isAutoPlaying = !isAutoPlaying;
            
            if (isAutoPlaying) {
                autoBtn.innerHTML = "ุชููู";
                startProgressBar();
                autoPlayInterval = setInterval(() => {
                    if (currentSlide < totalSlides - 1) {
                        nextSlide();
                        startProgressBar();
                    } else {
                        toggleAutoPlay(); // Stop when we reach the end
                    }
                }, autoPlayDuration);
            } else {
                autoBtn.innerHTML = "ูพุฎุด";
                clearInterval(autoPlayInterval);
                clearInterval(progressInterval);
                progressBar.style.width = "0%";
            }
        }

        function startProgressBar() {
            clearInterval(progressInterval);
            progress = 0;
            progressBar.style.width = "0%";
            
            const updateFrequency = 50; // Update every 50ms for smooth animation
            const increment = (updateFrequency / autoPlayDuration) * 100;
            
            progressInterval = setInterval(() => {
                progress += increment;
                progressBar.style.width = `${progress}%`;
                
                if (progress >= 100) {
                    clearInterval(progressInterval);
                }
            }, updateFrequency);
        }

        function nextSlide() {
            if (currentSlide < totalSlides - 1) {
                slides[currentSlide].classList.remove("active");
                slides[currentSlide].classList.add("leaving");
                
                // Add magic effect to the page content
                const currentContent = slides[currentSlide].querySelector('.page-content');
                currentContent.style.animation = "pageGlow 1s ease";
                
                setTimeout(() => {
                    slides[currentSlide].classList.remove("leaving");
                    currentContent.style.animation = "";
                    currentSlide++;
                    updateSlideVisibility();
                }, 500);
            }
        }

        function prevSlide() {
            if (currentSlide > 0) {
                slides[currentSlide].classList.remove("active");
                slides[currentSlide].classList.add("entering");
                
                // Add magic effect to the page content
                const currentContent = slides[currentSlide].querySelector('.page-content');
                currentContent.style.animation = "pageGlow 1s ease";
                
                setTimeout(() => {
                    slides[currentSlide].classList.remove("entering");
                    currentContent.style.animation = "";
                    currentSlide--;
                    updateSlideVisibility();
                }, 500);
            }
        }

        function updateSlideVisibility() {
            slides.forEach((slide, index) => {
                slide.classList.remove("active");
            });
            
            slides[currentSlide].classList.add("active");
            
            // Update button state
            prevBtn.disabled = currentSlide === 0;
            nextBtn.disabled = currentSlide === totalSlides - 1;
            
            // Update progress bar based on position
            const percentComplete = ((currentSlide) / (totalSlides - 1)) * 100;
            progressBar.style.width = `${percentComplete}%`;
        }
    </script>
</body>
</html>